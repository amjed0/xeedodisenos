<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Xeedo Dise√±os - Trendy Fashion for All</title>
    <script src="https://checkout.razorpay.com/v1/checkout.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f8f9fa;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header */
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 1rem 0;
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 1.8rem;
            font-weight: bold;
            color: white;
            text-decoration: none;
        }

        .nav-links {
            display: flex;
            list-style: none;
            gap: 2rem;
            align-items: center;
        }

        .nav-links a {
            color: white;
            text-decoration: none;
            transition: opacity 0.3s;
        }

        .nav-links a:hover {
            opacity: 0.8;
        }

        .cart-icon {
            position: relative;
            cursor: pointer;
            font-size: 1.5rem;
            transition: transform 0.3s;
        }

        .cart-icon:hover {
            transform: scale(1.1);
        }

        .cart-count {
            position: absolute;
            top: -8px;
            right: -8px;
            background: #ff4757;
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            font-weight: bold;
        }

        /* Hero Section */
        .hero {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 150px 0 80px;
            text-align: center;
        }

        .hero h1 {
            font-size: 3rem;
            margin-bottom: 1rem;
            animation: fadeInUp 1s ease-out;
        }

        .hero p {
            font-size: 1.2rem;
            margin-bottom: 2rem;
            animation: fadeInUp 1s ease-out 0.3s both;
        }

        .cta-button {
            background: #ff4757;
            color: white;
            padding: 15px 30px;
            border: none;
            border-radius: 50px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s;
            text-decoration: none;
            display: inline-block;
            animation: fadeInUp 1s ease-out 0.6s both;
        }

        .cta-button:hover {
            background: #ff3742;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 71, 87, 0.4);
        }

        /* Products Section */
        .products {
            padding: 80px 0;
        }

        .section-title {
            text-align: center;
            font-size: 2.5rem;
            margin-bottom: 3rem;
            color: #333;
        }

        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
        }

        .product-card {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            transition: all 0.3s;
            position: relative;
        }

        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
        }

        .product-image {
            width: 100%;
            height: 250px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.2rem;
            position: relative;
            overflow: hidden;
        }

        .product-image::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="50" cy="50" r="40" fill="none" stroke="white" stroke-width="2" opacity="0.3"/><path d="M30,40 Q50,20 70,40 Q50,60 30,40" fill="white" opacity="0.2"/></svg>');
            background-size: 80px 80px;
        }

        .product-info {
            padding: 1.5rem;
        }

        .product-title {
            font-size: 1.3rem;
            margin-bottom: 0.5rem;
            color: #333;
        }

        .product-description {
            color: #666;
            margin-bottom: 1rem;
            font-size: 0.9rem;
        }

        .product-price {
            font-size: 1.5rem;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 1rem;
        }

        .add-to-cart {
            width: 100%;
            background: #667eea;
            color: white;
            border: none;
            padding: 12px;
            border-radius: 8px;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s;
        }

        .add-to-cart:hover {
            background: #5a6fd8;
            transform: translateY(-1px);
        }

        /* Cart Modal */
        .cart-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 2000;
        }

        .cart-content {
            background: white;
            border-radius: 15px;
            padding: 2rem;
            max-width: 600px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            position: relative;
        }

        .cart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid #eee;
        }

        .cart-title {
            font-size: 1.5rem;
            color: #333;
        }

        .close-cart {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #666;
            padding: 5px;
        }

        .cart-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 0;
            border-bottom: 1px solid #eee;
        }

        .cart-item-info {
            flex: 1;
        }

        .cart-item-title {
            font-weight: bold;
            margin-bottom: 0.5rem;
        }

        .cart-item-price {
            color: #667eea;
            font-weight: bold;
        }

        .quantity-controls {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin: 0.5rem 0;
        }

        .quantity-btn {
            background: #667eea;
            color: white;
            border: none;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .quantity-btn:hover {
            background: #5a6fd8;
        }

        .quantity {
            font-weight: bold;
            min-width: 30px;
            text-align: center;
        }

        .remove-item {
            background: #ff4757;
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 5px;
            cursor: pointer;
        }

        .remove-item:hover {
            background: #ff3742;
        }

        .cart-total {
            text-align: right;
            margin-top: 1.5rem;
            padding-top: 1rem;
            border-top: 2px solid #eee;
        }

        .total-amount {
            font-size: 1.5rem;
            font-weight: bold;
            color: #333;
        }

        .checkout-btn {
            width: 100%;
            background: #ff4757;
            color: white;
            border: none;
            padding: 15px;
            border-radius: 10px;
            font-size: 1.1rem;
            cursor: pointer;
            margin-top: 1rem;
            transition: all 0.3s;
        }

        .checkout-btn:hover {
            background: #ff3742;
            transform: translateY(-2px);
        }

        .checkout-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
        }

        .empty-cart {
            text-align: center;
            padding: 2rem;
            color: #666;
        }

        /* About Section */
        .about {
            background: white;
            padding: 80px 0;
        }

        .about-content {
            max-width: 800px;
            margin: 0 auto;
            text-align: center;
        }

        .about-content p {
            font-size: 1.1rem;
            line-height: 1.8;
            margin-bottom: 1.5rem;
            color: #555;
        }

        /* Footer */
        .footer {
            background: #333;
            color: white;
            padding: 2rem 0;
            text-align: center;
        }

        /* Security Alert */
        .security-alert {
            background: #ff4757;
            color: white;
            padding: 10px;
            text-align: center;
            font-weight: bold;
            position: fixed;
            top: 70px;
            left: 0;
            right: 0;
            z-index: 999;
        }

        .payment-loading {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 3000;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            color: white;
        }

        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #667eea;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin-bottom: 20px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Animations */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .cart-animation {
            animation: cartBounce 0.3s ease-out;
        }

        @keyframes cartBounce {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
        }

        /* Responsive */
        @media (max-width: 768px) {
            .nav-links {
                gap: 1rem;
            }
            
            .hero h1 {
                font-size: 2rem;
            }
            
            .products-grid {
                grid-template-columns: 1fr;
            }
            
            .cart-content {
                padding: 1rem;
            }
        }
    </style>
</head>
<body>

    <!-- Header -->
    <header class="header">
        <nav class="nav container">
            <a href="#" class="logo">Xeedo Dise√±os</a>
            <ul class="nav-links">
                <li><a href="#home">Home</a></li>
                <li><a href="#products">Products</a></li>
                <li><a href="#about">About</a></li>
                <li>
                    <div class="cart-icon" onclick="toggleCart()">
                        üõí
                        <span class="cart-count" id="cartCount">0</span>
                    </div>
                </li>
            </ul>
        </nav>
    </header>

    <!-- Hero Section -->
    <section class="hero" id="home">
        <div class="container">
            <h1>Trendy Fashion for All</h1>
            <p>Express yourself with our sustainable and stylish clothing collections</p>
            <a href="#products" class="cta-button">Shop Now</a>
        </div>
    </section>

    <!-- Products Section -->
    <section class="products" id="products">
        <div class="container">
            <h2 class="section-title">Our Collections</h2>
            <div class="products-grid" id="productsGrid">
                <!-- Products will be populated by JavaScript -->
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section class="about" id="about">
        <div class="container">
            <h2 class="section-title">About Xeedo Dise√±os</h2>
            <div class="about-content">
                <p>At Xeedo dise√±os, we are passionate about fashion and design. We believe that clothing is more than just fabric; it's a form of self-expression, a way to tell your unique story to the world. Our brand is driven by the desire to empower individuals with clothing that not only looks great but also makes them feel confident, comfortable, and true to themselves.</p>
                <p>We are committed to making fashion choices that not only make you look great but also make a positive impact on the planet. Our journey toward sustainability involves careful selection of eco-friendly materials, ethical manufacturing practices, and reducing waste in every aspect of our production.</p>
                <p>Discover our sustainable collections, where style meets responsibility.</p>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <p>&copy; 2024 Xeedo Dise√±os. All rights reserved.</p>
        </div>
    </footer>

    <!-- Cart Modal -->
    <div class="cart-modal" id="cartModal">
        <div class="cart-content">
            <div class="cart-header">
                <h3 class="cart-title">Shopping Cart</h3>
                <button class="close-cart" onclick="toggleCart()">√ó</button>
            </div>
            <div id="cartItems">
                <!-- Cart items will be populated by JavaScript -->
            </div>
            <div class="cart-total">
                <div class="total-amount">Total: ‚Çπ<span id="totalAmount">0</span></div>
                <button class="checkout-btn" onclick="checkout()" id="checkoutBtn">Proceed to Checkout</button>
            </div>
        </div>
    </div>

    <!-- Payment Loading -->
    <div class="payment-loading" id="paymentLoading">
        <div class="spinner"></div>
        <p>Processing your payment...</p>
    </div>

    <script>
        // FIXED: Proper product prices
        const products = [
            {
                id: 1,
                name: "Sustainable Cotton T-Shirt",
                description: "Eco-friendly cotton blend for everyday comfort",
                price: 1299,
                image: "T-Shirt Collection"
            },
            {
                id: 2,
                name: "Organic Denim Jacket",
                description: "Stylish denim made from organic cotton",
                price: 3499,
                image: "Denim Collection"
            },
            {
                id: 3,
                name: "Bamboo Fiber Dress",
                description: "Elegant dress made from sustainable bamboo fiber",
                price: 2799,
                image: "Dress Collection"
            },
            {
                id: 4,
                name: "Recycled Polyester Hoodie",
                description: "Cozy hoodie made from recycled materials",
                price: 2599, // FIXED: Was only ‚Çπ2
                image: "Hoodie Collection"
            },
            {
                id: 5,
                name: "Hemp Blend Pants",
                description: "Comfortable pants with hemp fiber blend",
                price: 1899, // FIXED: Was only ‚Çπ1
                image: "Pants Collection"
            },
            {
                id: 6,
                name: "Organic Cotton Shirt",
                description: "Professional shirt for modern wardrobe",
                price: 1799, // FIXED: Was only ‚Çπ1
                image: "Shirt Collection"
            }
        ];

        // SECURITY: Using test key (replace with your NEW test key)
        const RAZORPAY_KEY = 'rzp_live_puXHuA9S6iVgKF'; // REPLACE WITH YOUR TEST KEY

        // Cart functionality
        let cart = [];
        let cartCount = 0;

        // Initialize products
        function initializeProducts() {
            const productsGrid = document.getElementById('productsGrid');
            productsGrid.innerHTML = '';
            
            products.forEach(product => {
                const productCard = document.createElement('div');
                productCard.className = 'product-card';
                productCard.innerHTML = `
                    <div class="product-image">
                        ${product.image}
                    </div>
                    <div class="product-info">
                        <h3 class="product-title">${product.name}</h3>
                        <p class="product-description">${product.description}</p>
                        <div class="product-price">‚Çπ${product.price}</div>
                        <button class="add-to-cart" onclick="addToCart(${product.id})">
                            Add to Cart
                        </button>
                    </div>
                `;
                productsGrid.appendChild(productCard);
            });
        }

        // Add to cart
        function addToCart(productId) {
            const product = products.find(p => p.id === productId);
            if (!product) return;

            const existingItem = cart.find(item => item.id === productId);
            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                cart.push({ ...product, quantity: 1 });
            }

            updateCartCount();
            updateCartDisplay();
            
            // Add animation to cart icon
            const cartIcon = document.querySelector('.cart-icon');
            cartIcon.classList.add('cart-animation');
            setTimeout(() => cartIcon.classList.remove('cart-animation'), 300);
        }

        // Update cart count
        function updateCartCount() {
            cartCount = cart.reduce((total, item) => total + item.quantity, 0);
            document.getElementById('cartCount').textContent = cartCount;
        }

        // Update cart display
        function updateCartDisplay() {
            const cartItems = document.getElementById('cartItems');
            const totalAmount = document.getElementById('totalAmount');
            const checkoutBtn = document.getElementById('checkoutBtn');

            if (cart.length === 0) {
                cartItems.innerHTML = '<div class="empty-cart">Your cart is empty</div>';
                totalAmount.textContent = '0';
                checkoutBtn.disabled = true;
                return;
            }

            cartItems.innerHTML = '';
            let total = 0;

            cart.forEach(item => {
                total += item.price * item.quantity;
                const cartItem = document.createElement('div');
                cartItem.className = 'cart-item';
                cartItem.innerHTML = `
                    <div class="cart-item-info">
                        <div class="cart-item-title">${item.name}</div>
                        <div class="cart-item-price">‚Çπ${item.price}</div>
                        <div class="quantity-controls">
                            <button class="quantity-btn" onclick="changeQuantity(${item.id}, -1)">-</button>
                            <span class="quantity">${item.quantity}</span>
                            <button class="quantity-btn" onclick="changeQuantity(${item.id}, 1)">+</button>
                        </div>
                    </div>
                    <button class="remove-item" onclick="removeFromCart(${item.id})">Remove</button>
                `;
                cartItems.appendChild(cartItem);
            });

            totalAmount.textContent = total.toFixed(0);
            checkoutBtn.disabled = false;
        }

        // Change quantity
        function changeQuantity(productId, change) {
            const item = cart.find(item => item.id === productId);
            if (!item) return;

            item.quantity += change;
            if (item.quantity <= 0) {
                removeFromCart(productId);
            } else {
                updateCartCount();
                updateCartDisplay();
            }
        }

        // Remove from cart
        function removeFromCart(productId) {
            cart = cart.filter(item => item.id !== productId);
            updateCartCount();
            updateCartDisplay();
        }

        // Toggle cart modal
        function toggleCart() {
            const cartModal = document.getElementById('cartModal');
            cartModal.style.display = cartModal.style.display === 'flex' ? 'none' : 'flex';
        }

        // FIXED: Create proper Razorpay order
        async function createRazorpayOrder(amount) {
            // In production, this should call your backend API
            // For demo purposes, we'll simulate this process
            try {
                // Simulated order creation
                return {
                    id: 'order_' + Math.random().toString(36).substr(2, 9),
                    amount: amount * 100,
                    currency: 'INR',
                    receipt: 'receipt_' + Date.now()
                };
            } catch (error) {
                throw new Error('Failed to create order: ' + error.message);
            }
        }

        // FIXED: Proper checkout with error handling
        async function checkout() {
            if (cart.length === 0) {
                alert('Your cart is empty!');
                return;
            }

            const totalAmount = cart.reduce((total, item) => total + (item.price * item.quantity), 0);
            
            // Show loading
            document.getElementById('paymentLoading').style.display = 'flex';
            
            try {
                // Create order
                const order = await createRazorpayOrder(totalAmount);
                
                // Hide loading
                document.getElementById('paymentLoading').style.display = 'none';
                
                // FIXED: Proper Razorpay configuration
                 const options = {
                    key: RAZORPAY_KEY,
                    amount: order.amount,
                    currency: order.currency,
                    name: 'Xeedo Dise√±os',
                    description: 'Fashion Purchase',
                    image: 'https://via.placeholder.com/150x150/667eea/ffffff?text=XD',
                    order_id: order.id,
                    handler: function (response) {
                        // FIXED: Proper success handling
                        handlePaymentSuccess(response);
                    },
                    prefill: {
                        name: 'Customer Name',
                        email: 'customer@example.com',
                        contact: '9999999999'
                    },
                    notes: {
                        address: 'Xeedo Dise√±os Store'
                    },
                    theme: {
                        color: '#667eea'
                    },
                    modal: {
                        ondismiss: function() {
                            console.log('Payment dialog closed by user');
                        }
                    }
                };

                const rzp = new Razorpay(options);
                
                // FIXED: Proper error handling
                rzp.on('payment.failed', function (response) {
                    handlePaymentFailure(response);
                });
                
                rzp.open();
                
            } catch (error) {
                // Hide loading
                document.getElementById('paymentLoading').style.display = 'none';
                alert('Error creating order: ' + error.message);
            }
        }

        // FIXED: Better success handling
        function handlePaymentSuccess(response) {
            alert(`Payment Successful! 
Payment ID: ${response.razorpay_payment_id}
Order ID: ${response.razorpay_order_id}`);
            
            // Clear cart
            cart = [];
            updateCartCount();
            updateCartDisplay();
            toggleCart();
            
            // In production, you would:
            // 1. Send payment details to your server
            // 2. Verify payment signature
            // 3. Update order status
            // 4. Send confirmation email
        }

        // FIXED: Better error handling
        function handlePaymentFailure(response) {
            console.error('Payment failed:', response);
            alert('Payment failed: ' + response.error.description);
        }

        // Close cart when clicking outside
        document.getElementById('cartModal').addEventListener('click', function(e) {
            if (e.target === this) {
                toggleCart();
            }
        });

        // Smooth scrolling for navigation links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            initializeProducts();
        });
    </script>
</body>
</html>
